<!DOCTYPE html>
<head>
	
</head>
<body>
	<script src="https://d3js.org/d3.v3.min.js"></script>
	<script>
	
	function multiCsv(files, callback) {
	  var results = [];
	  var error = "";
	  var filesLength = (files || []).length;
	  var callbackInvoked = false;
	  for (var i = 0; i < filesLength; i++) {
		(function(url) {
		  d3.csv(url, function(data) {
			if (data === null) {
			  error += "Error retrieving \"" + url + "\"\n";
			} else {
			  results.push(data);
			}
			// all files retrieved or an error occurred
			if (!callbackInvoked && (error || results.length === filesLength)) {
			  if (error) {
				callback(error, null); // might want to send partial results here
			  } else {
				callback(null, d3.merge(results));
			  }
			  callbackInvoked = true;
			}
		  });
		})(files[i]);
	  }
	}
	var infiles = [
		"/chess_top_100/fide.table.217.csv",
		"/chess_top_100/fide.table.221.csv",
		"/chess_top_100/fide.table.225.csv",
		"/chess_top_100/fide.table.229.csv",
		"/chess_top_100/fide.table.233.csv",
		"/chess_top_100/fide.table.237.csv",
		"/chess_top_100/fide.table.241.csv",
		"/chess_top_100/fide.table.245.csv",
		"/chess_top_100/fide.table.249.csv",
		"/chess_top_100/fide.table.253.csv",
		"/chess_top_100/fide.table.257.csv",
		"/chess_top_100/fide.table.261.csv",
		"/chess_top_100/fide.table.265.csv",
		"/chess_top_100/fide.table.269.csv",
		"/chess_top_100/fide.table.273.csv",
		"/chess_top_100/fide.table.277.csv",
		"/chess_top_100/fide.table.281.csv",
		"/chess_top_100/fide.table.285.csv",
		"/chess_top_100/fide.table.289.csv",
		"/chess_top_100/fide.table.293.csv",
		"/chess_top_100/fide.table.297.csv",
		"/chess_top_100/fide.table.301.csv",
		"/chess_top_100/fide.table.305.csv",
		"/chess_top_100/fide.table.309.csv",
		"/chess_top_100/fide.table.313.csv",
		"/chess_top_100/fide.table.317.csv",
		"/chess_top_100/fide.table.321.csv",
		"/chess_top_100/fide.table.325.csv",
		"/chess_top_100/fide.table.329.csv",
		"/chess_top_100/fide.table.333.csv",
		"/chess_top_100/fide.table.337.csv",
		"/chess_top_100/fide.table.341.csv",
		"/chess_top_100/fide.table.345.csv",
		"/chess_top_100/fide.table.349.csv",
		"/chess_top_100/fide.table.353.csv",
		"/chess_top_100/fide.table.357.csv",
		"/chess_top_100/fide.table.361.csv",
		"/chess_top_100/fide.table.365.csv",
		"/chess_top_100/fide.table.369.csv",
		"/chess_top_100/fide.table.373.csv",
		"/chess_top_100/fide.table.377.csv",
		"/chess_top_100/fide.table.381.csv",
		"/chess_top_100/fide.table.385.csv",
		"/chess_top_100/fide.table.389.csv",
		"/chess_top_100/fide.table.393.csv",
		"/chess_top_100/fide.table.397.csv"]


	multiCsv(infiles, function (err, results) {
	  if (err) {
		alert(err);
		return;
	  }
	  var ul = document.createElement('ul');
	  for (var i = 0, len = results.length; i < len; i++) {
		var li = document.createElement('li');
		li.textContent = results[i].FirstName + ' ' + results[i].LastName + ', ' + results[i].Age;
		ul.appendChild(li);
	  }
	  document.body.appendChild(ul);
	});
	</script>
	
