<!DOCTYPE html>
<head>
	<script src="/underscore/underscore-min.js"></script>
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="/dimple/dist/dimple.v2.3.0.min.js"></script>
	<script src="/FE550/fileload.js"></script>
	
</head>
<body>
	<h1>Chess Champions of the World</h1>
	
	<p>  Being an avid chess player I thought this data set was pretty interesting.  It is a small set from July 2012 to April 2017.  I found this on kaggle - https://www.kaggle.com/odartey/top-100-chess-players-july-2012-april-2016. <br> Here is my analysis</p>
	
	<h3>Research Questions</h3>
	<ol>
		<li>Is there a particular country that seems to generate more champions?
		<li>Are there any disparities in Age between lowest ranked players and highest ranked players?
		<li>How many games do the top ranked players typically play?
	</ol>
	
	<p>When breaking down the players over the last 45 months you can clearly see that Russia has more players than any other country<br>
	<div id="cntbycountry">
 <script>
	function cntrChart(data) {
	var cdata = _.chain(data).map(function(i){ return _.pick(i,"Name","Country");})
		.groupBy(function(g){ return g.Name + "#" + g.Country})
		.map(function(g){ return g[0]})
		.countBy(function(g) { return g.Country;})
		.map(function(value,key){return {Country:key,Cnt:value};})
		.value();
		
		var Rdata = _.chain(data).map(function(i){ return _.pick(i,"Country", "Rank");})
		.groupBy(function(g){ return g.Rank + "#" + g.Country})
		.map(function(g){ return g[0]})
		.countBy(function(g) { return g.Country;})
		.map(function(value,key){return {Country:key,Rank:value};})
		.value();
		
		cdata = _.chain(cdata).union(Rdata).groupBy(function(g) { return g.Country;})
			.map(function(g){ return {Country:g[0].Country, Cnt:g[0].Cnt, Rank:g[1].Rank }).value();
	var svg = dimple.newSvg("#cntbycountry", 700, 500);
    
      var myChart = new dimple.chart(svg, cdata);
      
     var x =  myChart.addMeasureAxis("x", ["Cnt", "Rank"]);
		x.title = "Count of Unique Players"
     var y = myChart.addCategoryAxis("y", "Country");
     	y.addOrderRule("Country");
      myChart.addSeries(Rdata, dimple.plot.bar);
      myChart.draw();
		}
	
	 </script>
	</div></p>
	
<p>Looking at the number of players in the top 10 over the last 45 months<br>
	<div id="cntbyrank">
 <script>
 function rankChart(data) {
	var Rdata = _.chain(data).map(function(i){ return _.pick(i,"Country", "Rank");})
		.groupBy(function(g){ return g.Rank + "#" + g.Country})
		.map(function(g){ return g[0]})
		.countBy(function(g) { return g.Country;})
		.map(function(value,key){return {Country:key,Cnt:value};})
		.value();	
	var svgR = dimple.newSvg("#cntbyrank", 700, 500);
    
      var myChartR = new dimple.chart(svgR, Rdata);
      
      myChartR.addMeasureAxis("x", "Cnt");
     var yR = myChartR.addCategoryAxis("y", "Country");
     	yR.addOrderRule("Country");
      myChartR.addSeries(null, dimple.plot.bar);
      myChartR.draw();		
	}
	</script>
	</div></p>
	
	
	
		
	
	
	
	
